---
dg-publish: true
---
[LCR 120. 寻找文件副本 - 力扣（LeetCode）](https://leetcode.cn/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/description/)
#数组 
> [!info] 题目
>设备中存有 `n` 个文件，文件 `id` 记于数组 `documents`。若文件 `id` 相同，则定义为该文件存在副本。请返回任一存在副本的文件 `id`。

> [!cite] 示例 1
> **输入：**documents = `[2, 5, 3, 0, 5, 0]`
**输出：**0 或 5

> [!cite] 示例 2
> 

> [!help] 提示
> - `0 ≤ documents[i] ≤ n-1`
> - `2 <= n <= 100000`
### 方法一
#哈希
> [!example] 哈希表
> 基操

> [!success] 代码：
```cpp
class Solution {
public:
    int findRepeatDocument(vector<int>& documents) {
        unordered_set<int> set;
        for(int num:documents){
            if(set.contains(num)){
                return num;
            }else{
                set.insert(num);
            }
        }
        return 0;

    }
};
```
> [!attention] 复杂度
> **时间复杂度** O(N) ： 遍历数组使用 O(N)，HashSet 添加与查找元素皆为 O(1) 。
**空间复杂度** O(N) ： HashSet 占用 O(N) 大小的额外空间。

### 方法二

> [!example] 原地交换

题目说明尚未被充分使用，即 在一个长度为 n 的数组 documents 里的所有数字都在 0 ~ n-1 的范围内 。 此说明含义：数组元素的 索引 和 值 是 一对多 的关系。
因此，可遍历数组并通过交换操作，使元素的 索引 与 值 一一对应（即 $documents[i] = i$ ）。因而，就能通过索引映射对应的值，起到与字典等价的作用。
遍历中，第一次遇到数字 x 时，将其交换至索引 x 处；而当第二次遇到数字 x 时，一定有 $documents[x] = x$ ，此时即可得到一组重复数字。
> [!success] 代码：
```cpp
class Solution {
public:
    int findRepeatDocument(vector<int>& documents) {
        int i = 0;
        while(i < documents.size()) {
            if(documents[i] == i) {
                i++;
                continue;
            }
            if(documents[documents[i]] == documents[i])
                return documents[i];
            swap(documents[i],documents[documents[i]]);
        }
        return -1;
    }
};
```
> [!attention] 复杂度
>**时间复杂度** O(N)： 遍历数组使用 O(N) ，每轮遍历的判断和交换操作使用 O(1) 。
**空间复杂度** O(1) ： 使用常数复杂度的额外空间。

