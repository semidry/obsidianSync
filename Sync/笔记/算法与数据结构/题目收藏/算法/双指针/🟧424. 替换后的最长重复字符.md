---
dg-publish: true
---
[424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/longest-repeating-character-replacement/solutions/586933/ti-huan-hou-de-zui-chang-zhong-fu-zi-fu-n6aza/)
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Â `s`Â å’Œä¸€ä¸ªæ•´æ•°Â `k`Â ã€‚ä½ å¯ä»¥é€‰æ‹©å­—ç¬¦ä¸²ä¸­çš„ä»»ä¸€å­—ç¬¦ï¼Œå¹¶å°†å…¶æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å¤§å†™è‹±æ–‡å­—ç¬¦ã€‚è¯¥æ“ä½œæœ€å¤šå¯æ‰§è¡ŒÂ `k`Â æ¬¡ã€‚

åœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œåï¼Œè¿”å›Â _åŒ…å«ç›¸åŒå­—æ¯çš„æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚_

ç¤ºä¾‹ 1ï¼š
> è¾“å…¥ï¼šs = "ABAB", k = 2
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šç”¨ä¸¤ä¸ª'A'æ›¿æ¢ä¸ºä¸¤ä¸ª'B',åä¹‹äº¦ç„¶ã€‚

ç¤ºä¾‹ 2ï¼š
> è¾“å…¥ï¼šs = "AABABBA", k = 1
> è¾“å‡ºï¼š4
> è§£é‡Šï¼š
> å°†ä¸­é—´çš„ä¸€ä¸ª'A'æ›¿æ¢ä¸º'B',å­—ç¬¦ä¸²å˜ä¸º "AABBBBA"ã€‚
> å­ä¸² "BBBB" æœ‰æœ€é•¿é‡å¤å­—æ¯, ç­”æ¡ˆä¸º 4ã€‚
> å¯èƒ½å­˜åœ¨å…¶ä»–çš„æ–¹æ³•æ¥å¾—åˆ°åŒæ ·çš„ç»“æœã€‚

æç¤ºï¼š
- `1 <= s.length <= 105`
- `s`Â ä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `0 <= k <= s.length`

### æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ
#åŒæŒ‡é’ˆ
æˆ‘ä»¬å¯ä»¥æšä¸¾å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªä½ç½®ä½œä¸ºå³ç«¯ç‚¹ï¼Œç„¶åæ‰¾åˆ°å…¶æœ€è¿œçš„å·¦ç«¯ç‚¹çš„ä½ç½®ï¼Œæ»¡è¶³è¯¥åŒºé—´å†…é™¤äº†å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸€ç±»å­—ç¬¦ä¹‹å¤–ï¼Œå‰©ä½™çš„å­—ç¬¦ï¼ˆå³éæœ€é•¿é‡å¤å­—ç¬¦ï¼‰æ•°é‡ä¸è¶…è¿‡ k ä¸ªã€‚

è¿™æ ·æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆç»´æŠ¤è¿™äº›åŒºé—´ï¼Œæ¯æ¬¡å³æŒ‡é’ˆå³ç§»ï¼Œå¦‚æœåŒºé—´ä»ç„¶æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆå·¦æŒ‡é’ˆä¸ç§»åŠ¨ï¼Œå¦åˆ™å·¦æŒ‡é’ˆè‡³å¤šå³ç§»ä¸€æ ¼ï¼Œä¿è¯åŒºé—´é•¿åº¦ä¸å‡å°ã€‚

è™½ç„¶è¿™æ ·çš„æ“ä½œä¼šå¯¼è‡´éƒ¨åˆ†åŒºé—´ä¸ç¬¦åˆæ¡ä»¶ï¼Œå³è¯¥åŒºé—´å†…éæœ€é•¿é‡å¤å­—ç¬¦è¶…è¿‡äº† k ä¸ªã€‚ä½†æ˜¯è¿™æ ·çš„åŒºé—´ä¹ŸåŒæ ·ä¸å¯èƒ½å¯¹ç­”æ¡ˆäº§ç”Ÿè´¡çŒ®ã€‚å½“æˆ‘ä»¬å³æŒ‡é’ˆç§»åŠ¨åˆ°å°½å¤´ï¼Œå·¦å³æŒ‡é’ˆå¯¹åº”çš„åŒºé—´çš„é•¿åº¦å¿…ç„¶å¯¹åº”ä¸€ä¸ªé•¿åº¦æœ€å¤§çš„ç¬¦åˆæ¡ä»¶çš„åŒºé—´ã€‚

å®é™…ä»£ç ä¸­ï¼Œç”±äºå­—ç¬¦ä¸²ä¸­ä»…åŒ…å«å¤§å†™å­—æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º 26 çš„æ•°ç»„ç»´æŠ¤æ¯ä¸€ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚æ¯æ¬¡åŒºé—´å³ç§»ï¼Œæˆ‘ä»¬æ›´æ–°å³ç§»ä½ç½®çš„å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå°è¯•ç”¨å®ƒæ›´æ–°é‡å¤å­—ç¬¦å‡ºç°æ¬¡æ•°çš„å†å²æœ€å¤§å€¼ï¼Œæœ€åæˆ‘ä»¬ä½¿ç”¨è¯¥æœ€å¤§å€¼è®¡ç®—å‡ºåŒºé—´å†…éæœ€é•¿é‡å¤å­—ç¬¦çš„æ•°é‡ï¼Œä»¥æ­¤åˆ¤æ–­å·¦æŒ‡é’ˆæ˜¯å¦éœ€è¦å³ç§»å³å¯ã€‚

```cpp
class Solution {
public:
    int characterReplacement(string s, int k) {
        vector<int> num(26);
        int n = s.length();
        int maxn = 0;
        int left = 0, right = 0;
        while (right < n) {
            num[s[right] - 'A']++;
            maxn = max(maxn, num[s[right] - 'A']);
            if (right - left + 1 - maxn > k) {
                num[s[left] - 'A']--;
                left++;
            }
            right++;
        }
        return right - left;
    }
};
```
**ç›¸å…³**ï¼š
[[ğŸŸ§1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III]]